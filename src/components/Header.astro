---
const navLinks = [
  { href: '#inicio', label: 'Inicio' },
  { href: '#sobre-aruna', label: 'Sobre ARUNA' },
  { href: '#practica', label: 'Clases' },
  { href: '#contacto', label: 'Contacto' },
]
---

<header class="fixed top-0 left-0 right-0 z-50 bg-crema/95 backdrop-blur-sm">
  <nav class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <!-- Logo -->
    <a href="#inicio" class="flex-shrink-0">
      <img
        src="/logo.svg"
        alt="ARUNA Vinyasa Yoga"
        class="h-12 md:h-14 w-auto"
      />
    </a>

    <!-- Desktop Navigation -->
    <ul class="hidden md:flex items-center gap-8">
      {navLinks.map(link => (
        <li>
          <a
            href={link.href}
            class="text-stone-light hover:text-stone text-sm tracking-wider uppercase font-light"
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="md:hidden p-2 text-stone-light hover:text-stone"
      aria-label="Abrir menu"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          id="menu-icon"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="1.5"
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
    </button>
  </nav>

  <!-- Mobile Navigation -->
  <div
    id="mobile-menu"
    class="md:hidden hidden bg-crema border-t border-beige-claro"
  >
    <ul class="px-6 py-6 space-y-4">
      {navLinks.map(link => (
        <li>
          <a
            href={link.href}
            class="mobile-nav-link block text-stone-light hover:text-stone text-lg tracking-wider uppercase font-light py-2"
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </div>
</header>

<!-- Spacer to prevent content from hiding behind fixed header -->
<div class="h-20 md:h-22"></div>

<script>
  const menuButton = document.getElementById('mobile-menu-button')
  const mobileMenu = document.getElementById('mobile-menu')
  const menuIcon = document.getElementById('menu-icon')
  const mobileNavLinks = document.querySelectorAll('.mobile-nav-link')

  let isMenuOpen = false

  menuButton?.addEventListener('click', () => {
    isMenuOpen = !isMenuOpen
    mobileMenu?.classList.toggle('hidden', !isMenuOpen)

    // Toggle icon between hamburger and X
    if (menuIcon) {
      menuIcon.setAttribute(
        'd',
        isMenuOpen
          ? 'M6 18L18 6M6 6l12 12'
          : 'M4 6h16M4 12h16M4 18h16'
      )
    }
  })

  // Close menu when clicking a link
  mobileNavLinks.forEach(link => {
    link.addEventListener('click', () => {
      isMenuOpen = false
      mobileMenu?.classList.add('hidden')
      if (menuIcon) {
        menuIcon.setAttribute('d', 'M4 6h16M4 12h16M4 18h16')
      }
    })
  })
</script>
